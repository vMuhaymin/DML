{% extends "dbManpulation/base.html" %}

{% block title %}Add Race{% endblock %}

{% block content %}
<h1>Add Race + Results</h1>

{% if message %}
    <div class="msg{% if error %} error{% endif %}"
         style="border:1px solid {% if error %}#c88{% else %}#8c8{% endif %};
                background:{% if error %}#ffe8e8{% else %}#e8ffe8{% endif %}; max-width:600px;">
        {{ message }}
    </div>
{% endif %}

<form method="post" style="text-align:left; max-width:600px; margin:1rem auto;">
    {% csrf_token %}

    <label class="block-label">Race ID</label>
    <input type="text" name="raceId" class="input-field" required>

    <label class="block-label">Race Name</label>
    <input type="text" name="raceName" class="input-field">

    <label class="block-label">Track Name (must match track.trackName)</label>
    <input type="text" name="trackName" class="input-field" required>

    <label class="block-label">Race Date (YYYY-MM-DD)</label>
    <input type="text" name="raceDate" placeholder="2007-05-03" class="input-field" required>

    <label class="block-label">Race Time (HH:MM)</label>
    <input type="text" name="raceTime" placeholder="14:30" class="input-field" required>

    <fieldset style="border:1px solid #ccc; padding:1rem; margin-top:1.5rem;">
        <legend style="font-weight:600;">Result #1</legend>
        <label class="block-label">Horse ID</label>
        <input type="text" name="horseId_1" class="input-field">
        <label class="block-label">Result (first / second / third / ...)</label>
        <input type="text" name="result_1" class="input-field">
        <label class="block-label">Prize</label>
        <input type="number" step="0.01" name="prize_1" class="input-field">
    </fieldset>

    <fieldset style="border:1px solid #ccc; padding:1rem; margin-top:1.5rem;">
        <legend style="font-weight:600;">Result #2</legend>
        <label class="block-label">Horse ID</label>
        <input type="text" name="horseId_2" class="input-field">
        <label class="block-label">Result (first / second / third / ...)</label>
        <input type="text" name="result_2" class="input-field">
        <label class="block-label">Prize</label>
        <input type="number" step="0.01" name="prize_2" class="input-field">
    </fieldset>

    <fieldset style="border:1px solid #ccc; padding:1rem; margin-top:1.5rem;">
        <legend style="font-weight:600;">Result #3</legend>
        <label class="block-label">Horse ID</label>
        <input type="text" name="horseId_3" class="input-field">
        <label class="block-label">Result (first / second / third / ...)</label>
        <input type="text" name="result_3" class="input-field">
        <label class="block-label">Prize</label>
        <input type="number" step="0.01" name="prize_3" class="input-field">
    </fieldset>

    <button type="submit" class="primary-btn" style="max-width:200px;">Save Race</button>
</form>
{% endblock %}
